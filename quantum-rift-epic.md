# EPIC: QUANTUM_RIFT
## Ledger-Driven Game Creation Epic
## (Trading Simulation / Quantum Theme)

---

## EPIC PURPOSE

Define and lock all **Vision, World, Systems, UI, and Tech decisions** for a Patrician-scale
trading simulation re-envisioned as a quantum-reality management game.

This epic exists to:
- Preserve Patrician-level systemic complexity
- Replace medieval fiction with quantum metaphysics
- Enable deterministic, ledger-driven implementation
- Avoid cloning, inference, or hidden assumptions

---

## EPIC CONSTRAINTS (NON-NEGOTIABLE)

- No Patrician 3 assets, names, data, or formulas
- No invented mechanics without explicit ledger resolution
- All probabilistic behavior must be systematized
- Trade remains the dominant loop
- Web-based, Angular-embedded delivery only

---

# SECTION 1 â€” ROOT TASK

## Task:ROOT_QUANTUM_RIFT
- **Goal**: Produce a complete, playable Quantum Rift trading simulation
- **Inputs**: None
- **Outputs**:
  - Game Vision
  - Core Trade Loop
  - World & Fiction
  - Systems Design
  - UI/UX Specification
  - Technical Implementation Plan
- **Subtasks**:
  - TASK:VISION_QR
  - TASK:CORE_LOOP_QR
  - TASK:WORLD_QR
  - TASK:SYSTEMS_QR
  - TASK:UI_QR
  - TASK:TECH_QR
- **Status**: DONE

---

# SECTION 2 â€” VISION

## Task:VISION_QR
- **Goal**: Define what Quantum Rift is
- **Inputs**: None
- **Outputs**:
  - Genre
  - Player fantasy
  - Tone
  - Design pillars
- **Produces Ledgers**:
  - Ledger:QR_GENRE
  - Ledger:QR_PLAYER_FANTASY
  - Ledger:QR_TONE
  - Ledger:QR_PILLARS
- **Status**: DONE

### Ledger:QR_GENRE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What is the genre label?
- **Reason**: Genre conventions cannot be assumed.
- **Resolution**: Economic trading simulation with systemic strategy.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_PLAYER_FANTASY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What role does the player inhabit?
- **Reason**: Player fantasy frames all mechanics.
- **Resolution**: You are an external architect manipulating reality by shaping probability flows, trade networks, and political consensus across quantum nodes.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_TONE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What tone governs presentation?
- **Reason**: Tone affects UI, writing, and pacing.
- **Resolution**: Abstract, cerebral, clinical, quietly ominous; no humor, no anthropomorphism.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_PILLARS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What design pillars guide decisions?
- **Reason**: Pillars constrain tradeoffs.
- **Resolution**:
  1. Trade before spectacle  
  2. Systems explain fiction, not vice versa  
  3. Information is power  
  4. Probability replaces chance  
  5. No irreversible failure states
- **Introduced By**: Task:VISION_QR

---

# SECTION 3 â€” CORE LOOP

## Task:CORE_LOOP_QR
- **Goal**: Define the repeating gameplay loop
- **Inputs**:
  - Ledger:QR_GENRE
  - Ledger:QR_PLAYER_FANTASY
- **Outputs**:
  - Core actions
  - Feedback
  - Progression
  - Win/Loss
- **Produces Ledgers**:
  - Ledger:QR_CORE_ACTIONS
  - Ledger:QR_CORE_FEEDBACK
  - Ledger:QR_CORE_PROGRESSION
  - Ledger:QR_WIN_LOSS
- **Status**: DONE

### Ledger:QR_CORE_ACTIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Gameplay
- **Statement**: What actions does the player repeat?
- **Resolution**:
  - Establish probability routes between nodes
  - Dispatch fleets (uncollapsed waves)
  - Buy/sell quantum commodities
  - Construct node structures
  - Assign observers (captains)
  - Influence governance outcomes
  - Research stabilizing technologies
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_CORE_FEEDBACK
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: How does the game communicate outcomes?
- **Resolution**:
  - Price curves and volatility bands
  - Route stability indicators
  - Observer confidence metrics
  - Node coherence values
  - Event logs (collapses, surges, elections)
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_CORE_PROGRESSION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does progression occur?
- **Resolution**:
  - Expanded trade network reach
  - Access to higher-order commodities
  - Advanced vessel containment
  - Political leverage
  - Meta-control over probability variance
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_WIN_LOSS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Gameplay
- **Statement**: Are there win/loss conditions?
- **Resolution**: No hard loss. Soft completion achieved by stabilizing a majority of reality nodes into long-term coherence equilibrium.
- **Introduced By**: Task:CORE_LOOP_QR

---

# SECTION 4 â€” WORLD & FICTION

## Task:WORLD_QR
- **Goal**: Define the game world
- **Inputs**:
  - Ledger:QR_PLAYER_FANTASY
- **Outputs**:
  - Setting
  - Entities
  - World rules
- **Produces Ledgers**:
  - Ledger:QR_WORLD_SETTING
  - Ledger:QR_WORLD_ENTITIES
  - Ledger:QR_WORLD_RULES
- **Status**: DONE

### Ledger:QR_WORLD_SETTING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**: A fractured reality composed of ~20 semi-stable Reality Nodes connected by probability channels within the Quantum Rift.
- **Introduced By**: Task:WORLD_QR

### Ledger:QR_WORLD_ENTITIES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**:
  - Reality Nodes (settlements)
  - Quantum Commodities (20)
  - Probability Vessels (ships)
  - Fleets (routes in motion)
  - Observers (captains)
  - Governance Seats (mayor/alderman analogues)
- **Introduced By**: Task:WORLD_QR

### Ledger:QR_WORLD_RULES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**:
  - Trade collapses probability into value
  - Information reduces variance
  - Stability emerges from throughput
  - All randomness is parameterized probability
- **Introduced By**: Task:WORLD_QR

---

# SECTION 5 â€” SYSTEMS

## Task:SYSTEMS_QR
- **Goal**: Define all gameplay systems
- **Inputs**:
  - Ledger:QR_CORE_ACTIONS
- **Outputs**:
  - Mechanics
  - Resources
  - Tech trees
- **Produces Ledgers**:
  - Ledger:QR_MECHANICS
  - Ledger:QR_RESOURCES
  - Ledger:QR_TECH_TREES
- **Status**: DONE

### Ledger:QR_MECHANICS
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**:
  - Supply/demand pricing
  - Route risk vs profit
  - Observer variance modifiers
  - Political modifiers
  - Expedition outcome distributions
- **Introduced By**: Task:SYSTEMS_QR

### Ledger:QR_RESOURCES
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**: 20 quantum commodities with production, decay, volatility, and node affinity.
- **Introduced By**: Task:SYSTEMS_QR

### Ledger:QR_TECH_TREES
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**:
  1. Containment Engineering
  2. Observation Theory
  3. Probability Stabilization
  4. Expedition Science
  5. Governance Manipulation
- **Introduced By**: Task:SYSTEMS_QR

---

# SECTION 6 â€” UI

## Task:UI_QR
- **Goal**: Define player interaction
- **Inputs**:
  - Ledger:QR_MECHANICS
- **Outputs**:
  - Screens
  - Controls
  - Feedback
- **Produces Ledgers**:
  - Ledger:QR_UI_SCREENS
  - Ledger:QR_UI_CONTROLS
  - Ledger:QR_UI_FEEDBACK
- **Status**: DONE

### Ledger:QR_UI_SCREENS
- **Status**: RESOLVED
- **Resolution**:
  - Galactic Node Map
  - Node Detail View
  - Market Ledger
  - Fleet Control
  - Observer Roster
  - Tech Research
  - Governance Panel
  - Logs & Analysis
- **Introduced By**: Task:UI_QR

### Ledger:QR_UI_CONTROLS
- **Status**: RESOLVED
- **Resolution**: Mouse-first with optional keyboard shortcuts; no twitch input.
- **Introduced By**: Task:UI_QR

### Ledger:QR_UI_FEEDBACK
- **Status**: RESOLVED
- **Resolution**: Numeric tables, charts, overlays, volatility bands, and event logs; minimal animation.
- **Introduced By**: Task:UI_QR

---

# SECTION 7 â€” TECH

## Task:TECH_QR
- **Goal**: Define implementation
- **Inputs**:
  - Ledger:QR_MECHANICS
  - Ledger:QR_UI_CONTROLS
- **Outputs**:
  - Engine
  - Platform
  - Build/run
- **Produces Ledgers**:
  - Ledger:QR_TECH_ENGINE
  - Ledger:QR_TECH_PLATFORM
  - Ledger:QR_TECH_BUILD_RUN
- **Status**: DONE

### Ledger:QR_TECH_ENGINE
- **Status**: RESOLVED
- **Resolution**: Angular SPA; simulation in services; Canvas/SVG/DOM hybrid rendering.
- **Introduced By**: Task:TECH_QR

### Ledger:QR_TECH_PLATFORM
- **Status**: RESOLVED
- **Resolution**: Desktop web browsers only.
- **Introduced By**: Task:TECH_QR

### Ledger:QR_TECH_BUILD_RUN
- **Status**: RESOLVED
- **Resolution**: Standard Angular build pipeline; embedded module in portal.
- **Introduced By**: Task:TECH_QR

---

## EPIC COMPLETION STATUS

All ledgers resolved.  
All tasks DONE.  
Implementation may proceed with no invention.

---

# PHASE F-1 Æ’?" MARKET PRICE RESOLUTION (LEDGERS)

### Ledger:PRICE_BASELINE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does each commodity have a fixed baseline price?
- **Reason**: Price computation requires a reference value.
- **Resolution**: Each commodity has a fixed baseline price defined as a static constant.
- **Introduced By**: Phase F-1

### Ledger:PRICE_NODE_MODIFIERS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which node attributes affect commodity prices?
- **Reason**: Node influence on prices cannot be assumed.
- **Resolution**: Node stability, node population, and commodity node affinity (match vs mismatch). Governance, tech, observers, routes, and global state excluded.
- **Introduced By**: Phase F-1

### Ledger:PRICE_SUPPLY_INPUT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What represents supply for price calculation?
- **Reason**: Supply may be stock, flow, or abstract pressure.
- **Resolution**: Supply is a scalar pressure value per (node, commodity), seeded manually.
- **Introduced By**: Phase F-1

### Ledger:PRICE_DEMAND_INPUT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What represents demand for price calculation?
- **Reason**: Demand definition determines price behavior.
- **Resolution**: Demand is a scalar pressure value per (node, commodity), seeded manually.
- **Introduced By**: Phase F-1

### Ledger:PRICE_UPDATE_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When are prices recalculated?
- **Reason**: Continuous vs discrete updates change pacing and cost.
- **Resolution**: Prices are recalculated only on discrete simulation ticks (no continuous or per-event recalculation).
- **Introduced By**: Phase F-1

### Ledger:PRICE_VOLATILITY_ROLE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does volatility affect price computation?
- **Reason**: Volatility meaning must be explicit.
- **Resolution**: Volatility is a multiplier on how strongly supply/demand pressures affect price; no randomness.

---

# PHASE F-1 Æ’?" MARKET PRICE RESOLUTION (FORMULA LEDGERS)

### Ledger:PRICE_NODE_WEIGHTING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do node stability and population weight into price modification?
- **Reason**: Weighting determines the node modifier and cannot be assumed.
- **Resolution**: Node stability and population contribute via independent linear weights, normalized to [0, 1] and summed into a single node modifier. Weights: NODE_WEIGHT_STABILITY = -0.20, NODE_WEIGHT_POPULATION = +0.15. No multiplicative stacking or nonlinear curves.
- **Introduced By**: Phase F-1

### Ledger:PRICE_AFFINITY_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does commodity affinity match/mismatch modify price?
- **Reason**: Affinity effect size must be explicit.
- **Resolution**: Affinity applies a signed additive modifier to price pressure: match = negative pressure, mismatch = positive pressure, neutral = zero. Symmetric magnitude, no quantity scaling. Constant: AFFINITY_EFFECT = 0.10.
- **Introduced By**: Phase F-1

### Ledger:PRICE_PRESSURE_COMBINE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are supply and demand pressures combined into a single adjustment term?
- **Reason**: Combination logic is a formula decision.
- **Resolution**: Net pressure is the signed difference of demand and supply: demand increases price, supply decreases price. No ratios or nonlinear combination.
- **Introduced By**: Phase F-1

### Ledger:PRICE_VOLATILITY_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does volatility scale the pressure adjustment?
- **Reason**: Scaling rule is a formula decision.
- **Resolution**: Volatility scales the magnitude of net pressure, applied after pressure combination. No randomness or sign changes. Volatility >= 0; volatility = 0 locks price to baseline + node modifier. Mapping: None = 0.0, Low = 0.5, Medium = 1.0, High = 1.5, Extreme = 2.0.
- **Introduced By**: Phase F-1

### Ledger:PRICE_CLAMP_BOUNDS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What minimum/maximum bounds clamp computed prices?
- **Reason**: Bounds must be explicit for determinism.
- **Resolution**: Final prices are clamped to fixed global bounds expressed as multipliers of baseline price: min = baseline x 0.30, max = baseline x 3.00. Bounds apply after all modifiers; no soft clamping.
- **Introduced By**: Phase F-1

---

# PHASE F-2 - PRICE PRESSURE, TIME, ROUTES, OBSERVERS

### Ledger:PRICE_PRESSURE_BUY_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do buy orders mutate market pressure?
- **Reason**: Buy effects must be explicit for deterministic pricing.
- **Resolution**: Buy orders increase demand pressure for the target (node, commodity) by a fixed increment. Supply is unaffected. Effect is immediate (same tick). Increment is constant per order. Authoritative effect: demandPressure += BUY_PRESSURE_DELTA.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_SELL_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do sell orders mutate market pressure?
- **Reason**: Sell effects must be explicit for deterministic pricing.
- **Resolution**: Sell orders increase supply pressure for the target (node, commodity) by a fixed increment. Demand is unaffected. Effect is immediate. Increment is constant per order. Authoritative effect: supplyPressure += SELL_PRESSURE_DELTA.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_CONSTANTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What constants govern pressure mutation magnitude?
- **Reason**: Event impact must be locked to avoid hidden tuning.
- **Resolution**: BUY_PRESSURE_DELTA = 0.10, SELL_PRESSURE_DELTA = 0.10.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_DECAY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do pressures decay over time?
- **Reason**: Markets must self-stabilize deterministically.
- **Resolution**: Supply and demand pressures decay toward zero by a fixed percentage each simulation tick. Authoritative rule: pressure *= PRESSURE_DECAY_FACTOR. Constant: PRESSURE_DECAY_FACTOR = 0.95.
- **Introduced By**: Phase F-2

### Ledger:TIME_TICK_DURATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What does a simulation tick represent?
- **Reason**: Tick semantics must be explicit.
- **Resolution**: A tick is an abstract economic interval, not a real-world duration. Ticks are logical, not seconds.
- **Introduced By**: Phase F-2

### Ledger:TIME_MODE_MULTIPLIERS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do time modes affect tick advancement?
- **Reason**: Time acceleration must be deterministic.
- **Resolution**: TIME_MODES = { pause: 0, normal: 1, fast: 4 }. pause = no ticks, normal = 1 tick per engine step, fast = 4 ticks per engine step. Fast mode skips nothing. Logs include tick count, not wall-clock time.
- **Introduced By**: Phase F-2

### Ledger:TIME_TICK_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the fixed order of tick-driven systems?
- **Reason**: Order affects determinism.
- **Resolution**: Fixed order per tick: advance time, apply pressure decay, recompute prices, advance routes (ETA), emit summary log (optional). No system may reorder without new ledger.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_DISTANCE_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is route distance computed?
- **Reason**: ETA must be deterministic.
- **Resolution**: Euclidean distance between node coordinates. distance = sqrt((dx)^2 + (dy)^2).
- **Introduced By**: Phase F-2

### Ledger:ROUTE_BASE_SPEED
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What base speed is used for ETA?
- **Reason**: ETA needs a fixed conversion rate.
- **Resolution**: BASE_ROUTE_SPEED = 10 distance units per tick.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_ETA_CALCULATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is ETA computed?
- **Reason**: ETA formula must be explicit.
- **Resolution**: ETA_ticks = ceil(distance / BASE_ROUTE_SPEED). No modifiers, no randomness, no mid-route changes.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_ADVANCEMENT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do routes advance over time?
- **Reason**: Fleet progression must be deterministic.
- **Resolution**: Each tick decrements ETA by 1 until zero. When ETA = 0, fleet status becomes arrived. No cargo effects.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_EFFECT_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do observers modify systems in Phase F-2?
- **Reason**: Prevent hidden coupling.
- **Resolution**: Observers do not modify any systems in Phase F-2. Traits are read-only.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_DISPLAY_ONLY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are observer traits used?
- **Reason**: Ensure traits are inspectable without effects.
- **Resolution**: Observer traits are visible in inspectors and logs but have no mechanical effect.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_FUTURE_HOOK
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are observer traits reserved for future modifiers?
- **Reason**: Document future intent without enabling coupling now.
- **Resolution**: Observer traits may become additive or multiplicative modifiers later, but no implicit hooks exist now. No observer data may be read by pricing, routes, pressure, time, or governance in Phase F-2.
- **Introduced By**: Phase F-2

---

# PHASE F-3.1 - CARGO AND ARRIVAL EFFECTS

### Ledger:CARGO_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is fleet cargo represented?
- **Reason**: Cargo representation must be explicit before arrival effects.
- **Resolution**: Cargo is an abstract payload: each fleet carries exactly one commodity type with no numeric quantity. No stack sizes, no partial cargo, no capacity scaling in Phase F-3.1. Authoritative interpretation: fleet.cargo = { commodityId }.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_SOURCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When and where is cargo sourced?
- **Reason**: Prevent double-counting market effects.
- **Resolution**: Cargo represents abstracted supply taken from the origin node at dispatch time. Dispatch does not mutate supply pressure. Cargo is conceptual until arrival.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_DESTINATION_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which node is affected by cargo delivery?
- **Reason**: Arrival effects must be localized.
- **Resolution**: Cargo affects the destination node only, never the origin. No back-propagation.
- **Introduced By**: Phase F-3.1

### Ledger:ROUTE_ARRIVAL_EVENT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What event is emitted on arrival?
- **Reason**: Arrival must be deterministic and inspectable.
- **Resolution**: When ETA reaches zero, emit a single ROUTE_ARRIVED event. Arrival fires once, is deterministic, and is logged. No partial arrival states.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_MARKET_EFFECT_TYPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What market effect does arrival cause?
- **Reason**: Arrival impact must be explicit.
- **Resolution**: Arrival applies a supply pressure increase for the carried commodity at the destination node. Demand is unaffected. Effect is immediate and additive. Authoritative effect: supplyPressure += ARRIVAL_SUPPLY_DELTA.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_SUPPLY_DELTA
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the supply pressure delta on arrival?
- **Reason**: Delta must be explicit for determinism.
- **Resolution**: ARRIVAL_SUPPLY_DELTA = 0.25.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_CONSUMPTION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What happens to cargo after arrival?
- **Reason**: Prevent lingering inventory assumptions.
- **Resolution**: Cargo is consumed immediately upon arrival. Fleet cargo is cleared. No lingering inventory.
- **Introduced By**: Phase F-3.1

### Ledger:FLEET_POST_ARRIVAL_STATE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What state does a fleet enter after arrival?
- **Reason**: Fleet lifecycle must be deterministic.
- **Resolution**: After arrival, the fleet becomes idle at the destination node. It remains selectable and may be re-routed. No automatic return or cargo reload.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on arrival?
- **Reason**: Maintain inspectability and replay.
- **Resolution**: Arrival logs must include fleet ID, commodity delivered, destination node, and supply pressure delta applied.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.1?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo quantities, profit calculation, credits, origin-node supply depletion, price impact at dispatch, and multiple commodities per fleet.
- **Introduced By**: Phase F-3.1

---

# PHASE F-3.2 - PROFIT AND CREDITS

### Ledger:CREDIT_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does the simulation track credits?
- **Reason**: Profit needs a persistent sink.
- **Resolution**: Track a single global credit balance as a scalar number. Credits may increase or decrease. No debt mechanics yet; balance may go negative. Authoritative field: state.credits.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are credits global or node-local?
- **Reason**: Credit scope affects accounting and UI.
- **Resolution**: Credits are player-global, not node-local.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_EVENT_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is profit/loss computed?
- **Reason**: Profit timing must be deterministic.
- **Resolution**: Profit or loss is computed only when a fleet arrives (ROUTE_ARRIVED). No profit at dispatch, over time, or on price change alone.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_REFERENCE_PRICES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What prices define profit?
- **Reason**: Price reference must be explicit.
- **Resolution**: Profit uses the price at origin sampled at dispatch time and the price at destination read at arrival time. Prices are sampled, not averaged. Authoritative interpretation: profitBasis = arrivalPrice - dispatchPrice.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_PER_ROUTE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How often is profit evaluated per route?
- **Reason**: Prevent cumulative ambiguity.
- **Resolution**: Each route arrival yields exactly one profit evaluation. Not per tick, per unit, or cumulative.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_SCALING_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is profit scaled?
- **Reason**: Convert price delta into visible stakes.
- **Resolution**: Profit is scaled by a fixed constant ROUTE_VALUE = 100. Authoritative interpretation: creditDelta = profitBasis * ROUTE_VALUE.
- **Introduced By**: Phase F-3.2

### Ledger:LOSS_ALLOWED
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are losses permitted?
- **Reason**: Avoid hidden safeguards.
- **Resolution**: Negative profit is allowed and applied directly to credits. Credits may go below zero. No bankruptcy state or safeguards.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_UPDATE_TIMING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is credit balance updated?
- **Reason**: Order affects determinism.
- **Resolution**: Credit balance updates immediately upon arrival, after market pressure is applied and prices are recomputed. Fixed order: arrival event -> supply pressure applied -> prices recomputed (if ticked) -> profit calculated -> credits updated -> log emitted.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on profit/loss?
- **Reason**: Ensure inspectability and replay.
- **Resolution**: Log fleet ID, commodity, origin node, destination node, dispatch price, arrival price, credit delta, and new credit balance.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_UI_VISIBILITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: Where is credit balance shown?
- **Reason**: Credits must be visible at all times.
- **Resolution**: Show current credit balance numerically at all times in the UI (top bar or equivalent). No animation required.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.2?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo quantities, operating costs, maintenance/upkeep, taxes/fees, interest/inflation, and AI credit usage.
- **Introduced By**: Phase F-3.2

---

# PHASE F-3.3 - CARGO QUANTITIES

### Ledger:CARGO_QUANTITY_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does cargo include quantity?
- **Reason**: Quantity is required for scaling.
- **Resolution**: Cargo includes a numeric quantity in abstract units. Authoritative interpretation: fleet.cargo = { commodityId: string, quantity: number }. Quantity is a positive integer; zero means no cargo; no fractional units.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_QUANTITY_SOURCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is cargo quantity determined?
- **Reason**: Prevent mid-route ambiguity.
- **Resolution**: Quantity is set at dispatch and remains fixed until arrival. No loss, spoilage, decay, or time/distance modification in Phase F-3.3.
- **Introduced By**: Phase F-3.3

### Ledger:VESSEL_CAPACITY_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do vessels have cargo capacities?
- **Reason**: Capacity is needed for meaningful quantities.
- **Resolution**: Each vessel class defines a maximum cargo capacity. Authoritative interpretation: vessel.capacity: number.
- **Introduced By**: Phase F-3.3

### Ledger:VESSEL_CAPACITY_CONSTANTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What are the vessel capacity constants?
- **Reason**: Prevent hidden tuning.
- **Resolution**: CONTAINMENT_FRIGATE = 50, STABILIZER_BARGE = 120, PROBE_CARRIER = 20, CONSENSUS_FLAGSHIP = 80.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_CAPACITY_CONSTRAINT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is capacity enforced at dispatch?
- **Reason**: Prevent overflow or partial loads.
- **Resolution**: Dispatch is blocked if quantity exceeds vessel capacity. No overflow or partial loading. UI must prevent invalid dispatch.
- **Introduced By**: Phase F-3.3

### Ledger:ARRIVAL_PRESSURE_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does arrival pressure scale with quantity?
- **Reason**: Pressure must scale deterministically.
- **Resolution**: Arrival supply pressure scales linearly with quantity. Authoritative rule: arrivalSupplyDelta = quantity * SUPPLY_PRESSURE_PER_UNIT.
- **Introduced By**: Phase F-3.3

### Ledger:SUPPLY_PRESSURE_PER_UNIT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the per-unit pressure constant?
- **Reason**: Scaling must be explicit.
- **Resolution**: SUPPLY_PRESSURE_PER_UNIT = 0.01.
- **Introduced By**: Phase F-3.3

### Ledger:PROFIT_QUANTITY_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does quantity scale profit?
- **Reason**: Profit must scale with cargo.
- **Resolution**: creditDelta = (arrivalPrice - dispatchPrice) * quantity * ROUTE_VALUE. Linear scaling only.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_UI_VISIBILITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: Where is cargo quantity displayed?
- **Reason**: Keep cargo inspectable.
- **Resolution**: Cargo quantity is visible in fleet inspector and fleet list row in compact form. Show commodity and quantity numerically.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on arrival with quantity?
- **Reason**: Ensure transparency.
- **Resolution**: Arrival logs include cargo commodity, cargo quantity, supply pressure delta applied, and profit contribution from quantity.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_QUANTITY_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.3?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo decay/spoilage, partial deliveries, capacity upgrades, multi-commodity cargo, loading/unloading time, and route risk or loss.
- **Introduced By**: Phase F-3.3

---

# PHASE F-4.1 - ROUTE RISK (ENTROPY)

### Ledger:ROUTE_RISK_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do trade routes have risk?
- **Resolution**: Yes. Trade routes accumulate deterministic entropy during transit, which degrades arrival outcomes unless mitigated.
- **Reason**: Entropy provides a non-random, inspectable model of uncertainty consistent with quantum fiction and systemic tradeoffs.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_MODEL_TYPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is risk represented?
- **Resolution**: Risk is represented as a scalar entropy value normalized to the range [0.0, 1.0], accumulated deterministically per route during transit.
- **Reason**: A scalar entropy meter preserves inspectability, supports deterministic accumulation and mitigation, and cleanly conditions future outcome logic without introducing randomness.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_DETERMINISM_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How is risk resolved without randomness?
- **Resolution**: Entropy is resolved deterministically by applying continuous, monotonic modifiers to arrival outcomes as pure functions of the entropy value. No random selection, binary branching, or hidden thresholds are permitted.
- **Reason**: This preserves full determinism, inspectability, and player comprehension while allowing entropy to meaningfully degrade outcomes.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_INPUT_FACTORS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which factors influence route entropy accumulation?
- **Resolution**: Route entropy accumulation is influenced by route duration (ETA), commodity volatility, cargo quantity, vessel dampening, origin node stability, and assigned observer modifiers. No other factors apply in Phase F-4.1.
- **Reason**: These inputs are pre-existing, inspectable, and collectively express time exposure, state instability, scale, mitigation capacity, environmental conditions, and human oversight without introducing redundancy or randomness.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_INPUT_NORMALIZATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are entropy input factors normalized or class-based?
- **Resolution**: All entropy input factors are normalized to explicit scalar ranges, typically [0.0, 1.0], before combination. Class labels may exist for UI purposes but are not used for computation.
- **Reason**: Normalized scalar inputs preserve determinism, prevent hidden thresholds, enable transparent composition, and ensure entropy contributions are inspectable and tunable.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_OUTCOME_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What outcomes may occur on route resolution due to entropy?
- **Resolution**: Entropy may deterministically modify arrival outcomes by increasing effective ETA, reducing realized profit efficiency, and dampening applied supply-pressure effects. Clean arrival remains the baseline at zero entropy. No binary failure, cargo loss, or permanent effects are permitted in Phase F-4.1.
- **Reason**: These outcomes express risk as predictable degradation of quality rather than success/failure, preserving determinism, player trust, and recoverability.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_OUTCOME_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What outcomes are explicitly forbidden in Phase F-4.x?
- **Resolution**: Phase F-4.x explicitly forbids cargo loss, fleet destruction, route failure or collapse, random or stochastic resolution, permanent world-state damage, cascading systemic effects, and observer-based immunity or override of entropy effects.
- **Reason**: These exclusions preserve determinism, prevent irreversible failure states, protect player trust, and ensure entropy functions solely as predictable degradation rather than punitive loss.
- **Introduced By**: Phase F-4.1

---

# PHASE F-4.2 - ENTROPY ACCUMULATION

### Ledger:ENTROPY_TIME_UNIT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the base time unit for entropy accumulation?
- **Resolution**: Entropy accumulates as a function of route progress, measured per fraction of ETA completed, not per simulation tick or wall-clock time.
- **Reason**: This models entropy as exposure during traversal rather than passage of time, aligns with relativistic framing, prevents coupling to time controls, and preserves determinism and exploit safety.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_BASE_RATE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Is there a non-zero base entropy gain even under ideal conditions?
- **Resolution**: No. Entropy accumulation is not unavoidable; sufficiently mitigated routes may accumulate arbitrarily low entropy. Base entropy gain is zero in the absence of contributing factors.
- **Reason**: This aligns with the fiction that entropy arises from unprotected exposure during transit rather than existence itself, and allows high-skill play, advanced vessels, observers, or technologies to approach near-zero entropy without violating determinism.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_ACCUMULATION_MODE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does entropy accumulate linearly or non-linearly over route progress?
- **Resolution**: Entropy accumulates in a saturating manner, with accumulation rate decreasing as entropy approaches its upper bound.
- **Reason**: Saturating accumulation prevents runaway degradation, preserves recoverability, aligns with physical entropy intuition, and rewards mitigation without introducing thresholds or randomness.
- **Introduced By**: Phase F-4.2



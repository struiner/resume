# EPIC: QUANTUM_RIFT
## Ledger-Driven Game Creation Epic
## (Trading Simulation / Quantum Theme)

---

## EPIC PURPOSE

Define and lock all **Vision, World, Systems, UI, and Tech decisions** for a Patrician-scale
trading simulation re-envisioned as a quantum-reality management game.

This epic exists to:
- Preserve Patrician-level systemic complexity
- Replace medieval fiction with quantum metaphysics
- Enable deterministic, ledger-driven implementation
- Avoid cloning, inference, or hidden assumptions

---

## EPIC CONSTRAINTS (NON-NEGOTIABLE)

- No Patrician 3 assets, names, data, or formulas
- No invented mechanics without explicit ledger resolution
- All probabilistic behavior must be systematized
- Trade remains the dominant loop
- Web-based, Angular-embedded delivery only

---

# SECTION 1 â€” ROOT TASK

## Task:ROOT_QUANTUM_RIFT
- **Goal**: Produce a complete, playable Quantum Rift trading simulation
- **Inputs**: None
- **Outputs**:
  - Game Vision
  - Core Trade Loop
  - World & Fiction
  - Systems Design
  - UI/UX Specification
  - Technical Implementation Plan
- **Subtasks**:
  - TASK:VISION_QR
  - TASK:CORE_LOOP_QR
  - TASK:WORLD_QR
  - TASK:SYSTEMS_QR
  - TASK:UI_QR
  - TASK:TECH_QR
- **Status**: DONE

---

# SECTION 2 â€” VISION

## Task:VISION_QR
- **Goal**: Define what Quantum Rift is
- **Inputs**: None
- **Outputs**:
  - Genre
  - Player fantasy
  - Tone
  - Design pillars
- **Produces Ledgers**:
  - Ledger:QR_GENRE
  - Ledger:QR_PLAYER_FANTASY
  - Ledger:QR_TONE
  - Ledger:QR_PILLARS
- **Status**: DONE

### Ledger:QR_GENRE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What is the genre label?
- **Reason**: Genre conventions cannot be assumed.
- **Resolution**: Economic trading simulation with systemic strategy.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_PLAYER_FANTASY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What role does the player inhabit?
- **Reason**: Player fantasy frames all mechanics.
- **Resolution**: You are an external architect manipulating reality by shaping probability flows, trade networks, and political consensus across quantum nodes.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_TONE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What tone governs presentation?
- **Reason**: Tone affects UI, writing, and pacing.
- **Resolution**: Abstract, cerebral, clinical, quietly ominous; no humor, no anthropomorphism.
- **Introduced By**: Task:VISION_QR

### Ledger:QR_PILLARS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Vision
- **Statement**: What design pillars guide decisions?
- **Reason**: Pillars constrain tradeoffs.
- **Resolution**:
  1. Trade before spectacle  
  2. Systems explain fiction, not vice versa  
  3. Information is power  
  4. Probability replaces chance  
  5. No irreversible failure states
- **Introduced By**: Task:VISION_QR

---

# SECTION 3 â€” CORE LOOP

## Task:CORE_LOOP_QR
- **Goal**: Define the repeating gameplay loop
- **Inputs**:
  - Ledger:QR_GENRE
  - Ledger:QR_PLAYER_FANTASY
- **Outputs**:
  - Core actions
  - Feedback
  - Progression
  - Win/Loss
- **Produces Ledgers**:
  - Ledger:QR_CORE_ACTIONS
  - Ledger:QR_CORE_FEEDBACK
  - Ledger:QR_CORE_PROGRESSION
  - Ledger:QR_WIN_LOSS
- **Status**: DONE

### Ledger:QR_CORE_ACTIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Gameplay
- **Statement**: What actions does the player repeat?
- **Resolution**:
  - Establish probability routes between nodes
  - Dispatch fleets (uncollapsed waves)
  - Buy/sell quantum commodities
  - Construct node structures
  - Assign observers (captains)
  - Influence governance outcomes
  - Research stabilizing technologies
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_CORE_FEEDBACK
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: How does the game communicate outcomes?
- **Resolution**:
  - Price curves and volatility bands
  - Route stability indicators
  - Observer confidence metrics
  - Node coherence values
  - Event logs (collapses, surges, elections)
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_CORE_PROGRESSION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does progression occur?
- **Resolution**:
  - Expanded trade network reach
  - Access to higher-order commodities
  - Advanced vessel containment
  - Political leverage
  - Meta-control over probability variance
- **Introduced By**: Task:CORE_LOOP_QR

### Ledger:QR_WIN_LOSS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Gameplay
- **Statement**: Are there win/loss conditions?
- **Resolution**: No hard loss. Soft completion achieved by stabilizing a majority of reality nodes into long-term coherence equilibrium.
- **Introduced By**: Task:CORE_LOOP_QR

---

# SECTION 4 â€” WORLD & FICTION

## Task:WORLD_QR
- **Goal**: Define the game world
- **Inputs**:
  - Ledger:QR_PLAYER_FANTASY
- **Outputs**:
  - Setting
  - Entities
  - World rules
- **Produces Ledgers**:
  - Ledger:QR_WORLD_SETTING
  - Ledger:QR_WORLD_ENTITIES
  - Ledger:QR_WORLD_RULES
- **Status**: DONE

### Ledger:QR_WORLD_SETTING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**: A fractured reality composed of ~20 semi-stable Reality Nodes connected by probability channels within the Quantum Rift.
- **Introduced By**: Task:WORLD_QR

### Ledger:QR_WORLD_ENTITIES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**:
  - Reality Nodes (settlements)
  - Quantum Commodities (20)
  - Probability Vessels (ships)
  - Fleets (routes in motion)
  - Observers (captains)
  - Governance Seats (mayor/alderman analogues)
- **Introduced By**: Task:WORLD_QR

### Ledger:QR_WORLD_RULES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Resolution**:
  - Trade collapses probability into value
  - Information reduces variance
  - Stability emerges from throughput
  - All randomness is parameterized probability
- **Introduced By**: Task:WORLD_QR

---

# SECTION 5 â€” SYSTEMS

## Task:SYSTEMS_QR
- **Goal**: Define all gameplay systems
- **Inputs**:
  - Ledger:QR_CORE_ACTIONS
- **Outputs**:
  - Mechanics
  - Resources
  - Tech trees
- **Produces Ledgers**:
  - Ledger:QR_MECHANICS
  - Ledger:QR_RESOURCES
  - Ledger:QR_TECH_TREES
- **Status**: DONE

### Ledger:QR_MECHANICS
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**:
  - Supply/demand pricing
  - Route risk vs profit
  - Observer variance modifiers
  - Political modifiers
  - Expedition outcome distributions
- **Introduced By**: Task:SYSTEMS_QR

### Ledger:QR_RESOURCES
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**: 20 quantum commodities with production, decay, volatility, and node affinity.
- **Introduced By**: Task:SYSTEMS_QR

### Ledger:QR_TECH_TREES
- **Status**: RESOLVED
- **Scope**: Systems
- **Resolution**:
  1. Containment Engineering
  2. Observation Theory
  3. Probability Stabilization
  4. Expedition Science
  5. Governance Manipulation
- **Introduced By**: Task:SYSTEMS_QR

---

# SECTION 6 â€” UI

## Task:UI_QR
- **Goal**: Define player interaction
- **Inputs**:
  - Ledger:QR_MECHANICS
- **Outputs**:
  - Screens
  - Controls
  - Feedback
- **Produces Ledgers**:
  - Ledger:QR_UI_SCREENS
  - Ledger:QR_UI_CONTROLS
  - Ledger:QR_UI_FEEDBACK
- **Status**: DONE

### Ledger:QR_UI_SCREENS
- **Status**: RESOLVED
- **Resolution**:
  - Galactic Node Map
  - Node Detail View
  - Market Ledger
  - Fleet Control
  - Observer Roster
  - Tech Research
  - Governance Panel
  - Logs & Analysis
- **Introduced By**: Task:UI_QR

### Ledger:QR_UI_CONTROLS
- **Status**: RESOLVED
- **Resolution**: Mouse-first with optional keyboard shortcuts; no twitch input.
- **Introduced By**: Task:UI_QR

### Ledger:QR_UI_FEEDBACK
- **Status**: RESOLVED
- **Resolution**: Numeric tables, charts, overlays, volatility bands, and event logs; minimal animation.
- **Introduced By**: Task:UI_QR

---

# SECTION 7 â€” TECH

## Task:TECH_QR
- **Goal**: Define implementation
- **Inputs**:
  - Ledger:QR_MECHANICS
  - Ledger:QR_UI_CONTROLS
- **Outputs**:
  - Engine
  - Platform
  - Build/run
- **Produces Ledgers**:
  - Ledger:QR_TECH_ENGINE
  - Ledger:QR_TECH_PLATFORM
  - Ledger:QR_TECH_BUILD_RUN
- **Status**: DONE

### Ledger:QR_TECH_ENGINE
- **Status**: RESOLVED
- **Resolution**: Angular SPA; simulation in services; Canvas/SVG/DOM hybrid rendering.
- **Introduced By**: Task:TECH_QR

### Ledger:QR_TECH_PLATFORM
- **Status**: RESOLVED
- **Resolution**: Desktop web browsers only.
- **Introduced By**: Task:TECH_QR

### Ledger:QR_TECH_BUILD_RUN
- **Status**: RESOLVED
- **Resolution**: Standard Angular build pipeline; embedded module in portal.
- **Introduced By**: Task:TECH_QR

---

## EPIC COMPLETION STATUS

All ledgers resolved.  
All tasks DONE.  
Implementation may proceed with no invention.

---

# PHASE F-1 Æ’?" MARKET PRICE RESOLUTION (LEDGERS)

### Ledger:PRICE_BASELINE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does each commodity have a fixed baseline price?
- **Reason**: Price computation requires a reference value.
- **Resolution**: Each commodity has a fixed baseline price defined as a static constant.
- **Introduced By**: Phase F-1

### Ledger:PRICE_NODE_MODIFIERS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which node attributes affect commodity prices?
- **Reason**: Node influence on prices cannot be assumed.
- **Resolution**: Node stability, node population, and commodity node affinity (match vs mismatch). Governance, tech, observers, routes, and global state excluded.
- **Introduced By**: Phase F-1

### Ledger:PRICE_SUPPLY_INPUT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What represents supply for price calculation?
- **Reason**: Supply may be stock, flow, or abstract pressure.
- **Resolution**: Supply is a scalar pressure value per (node, commodity), seeded manually.
- **Introduced By**: Phase F-1

### Ledger:PRICE_DEMAND_INPUT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What represents demand for price calculation?
- **Reason**: Demand definition determines price behavior.
- **Resolution**: Demand is a scalar pressure value per (node, commodity), seeded manually.
- **Introduced By**: Phase F-1

### Ledger:PRICE_UPDATE_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When are prices recalculated?
- **Reason**: Continuous vs discrete updates change pacing and cost.
- **Resolution**: Prices are recalculated only on discrete simulation ticks (no continuous or per-event recalculation).
- **Introduced By**: Phase F-1

### Ledger:PRICE_VOLATILITY_ROLE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does volatility affect price computation?
- **Reason**: Volatility meaning must be explicit.
- **Resolution**: Volatility is a multiplier on how strongly supply/demand pressures affect price; no randomness.

---

# PHASE F-1 Æ’?" MARKET PRICE RESOLUTION (FORMULA LEDGERS)

### Ledger:PRICE_NODE_WEIGHTING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do node stability and population weight into price modification?
- **Reason**: Weighting determines the node modifier and cannot be assumed.
- **Resolution**: Node stability and population contribute via independent linear weights, normalized to [0, 1] and summed into a single node modifier. Weights: NODE_WEIGHT_STABILITY = -0.20, NODE_WEIGHT_POPULATION = +0.15. No multiplicative stacking or nonlinear curves.
- **Introduced By**: Phase F-1

### Ledger:PRICE_AFFINITY_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does commodity affinity match/mismatch modify price?
- **Reason**: Affinity effect size must be explicit.
- **Resolution**: Affinity applies a signed additive modifier to price pressure: match = negative pressure, mismatch = positive pressure, neutral = zero. Symmetric magnitude, no quantity scaling. Constant: AFFINITY_EFFECT = 0.10.
- **Introduced By**: Phase F-1

### Ledger:PRICE_PRESSURE_COMBINE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are supply and demand pressures combined into a single adjustment term?
- **Reason**: Combination logic is a formula decision.
- **Resolution**: Net pressure is the signed difference of demand and supply: demand increases price, supply decreases price. No ratios or nonlinear combination.
- **Introduced By**: Phase F-1

### Ledger:PRICE_VOLATILITY_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does volatility scale the pressure adjustment?
- **Reason**: Scaling rule is a formula decision.
- **Resolution**: Volatility scales the magnitude of net pressure, applied after pressure combination. No randomness or sign changes. Volatility >= 0; volatility = 0 locks price to baseline + node modifier. Mapping: None = 0.0, Low = 0.5, Medium = 1.0, High = 1.5, Extreme = 2.0.
- **Introduced By**: Phase F-1

### Ledger:PRICE_CLAMP_BOUNDS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What minimum/maximum bounds clamp computed prices?
- **Reason**: Bounds must be explicit for determinism.
- **Resolution**: Final prices are clamped to fixed global bounds expressed as multipliers of baseline price: min = baseline x 0.30, max = baseline x 3.00. Bounds apply after all modifiers; no soft clamping.
- **Introduced By**: Phase F-1

---

# PHASE F-2 - PRICE PRESSURE, TIME, ROUTES, OBSERVERS

### Ledger:PRICE_PRESSURE_BUY_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do buy orders mutate market pressure?
- **Reason**: Buy effects must be explicit for deterministic pricing.
- **Resolution**: Buy orders increase demand pressure for the target (node, commodity) by a fixed increment. Supply is unaffected. Effect is immediate (same tick). Increment is constant per order. Authoritative effect: demandPressure += BUY_PRESSURE_DELTA.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_SELL_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do sell orders mutate market pressure?
- **Reason**: Sell effects must be explicit for deterministic pricing.
- **Resolution**: Sell orders increase supply pressure for the target (node, commodity) by a fixed increment. Demand is unaffected. Effect is immediate. Increment is constant per order. Authoritative effect: supplyPressure += SELL_PRESSURE_DELTA.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_CONSTANTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What constants govern pressure mutation magnitude?
- **Reason**: Event impact must be locked to avoid hidden tuning.
- **Resolution**: BUY_PRESSURE_DELTA = 0.10, SELL_PRESSURE_DELTA = 0.10.
- **Introduced By**: Phase F-2

### Ledger:PRICE_PRESSURE_DECAY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do pressures decay over time?
- **Reason**: Markets must self-stabilize deterministically.
- **Resolution**: Supply and demand pressures decay toward zero by a fixed percentage each simulation tick. Authoritative rule: pressure *= PRESSURE_DECAY_FACTOR. Constant: PRESSURE_DECAY_FACTOR = 0.95.
- **Introduced By**: Phase F-2

### Ledger:TIME_TICK_DURATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What does a simulation tick represent?
- **Reason**: Tick semantics must be explicit.
- **Resolution**: A tick is an abstract economic interval, not a real-world duration. Ticks are logical, not seconds.
- **Introduced By**: Phase F-2

### Ledger:TIME_MODE_MULTIPLIERS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do time modes affect tick advancement?
- **Reason**: Time acceleration must be deterministic.
- **Resolution**: TIME_MODES = { pause: 0, normal: 1, fast: 4 }. pause = no ticks, normal = 1 tick per engine step, fast = 4 ticks per engine step. Fast mode skips nothing. Logs include tick count, not wall-clock time.
- **Introduced By**: Phase F-2

### Ledger:TIME_TICK_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the fixed order of tick-driven systems?
- **Reason**: Order affects determinism.
- **Resolution**: Fixed order per tick: advance time, apply pressure decay, recompute prices, advance routes (ETA), emit summary log (optional). No system may reorder without new ledger.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_DISTANCE_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is route distance computed?
- **Reason**: ETA must be deterministic.
- **Resolution**: Euclidean distance between node coordinates. distance = sqrt((dx)^2 + (dy)^2).
- **Introduced By**: Phase F-2

### Ledger:ROUTE_BASE_SPEED
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What base speed is used for ETA?
- **Reason**: ETA needs a fixed conversion rate.
- **Resolution**: BASE_ROUTE_SPEED = 10 distance units per tick.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_ETA_CALCULATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is ETA computed?
- **Reason**: ETA formula must be explicit.
- **Resolution**: ETA_ticks = ceil(distance / BASE_ROUTE_SPEED). No modifiers, no randomness, no mid-route changes.
- **Introduced By**: Phase F-2

### Ledger:ROUTE_ADVANCEMENT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do routes advance over time?
- **Reason**: Fleet progression must be deterministic.
- **Resolution**: Each tick decrements ETA by 1 until zero. When ETA = 0, fleet status becomes arrived. No cargo effects.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_EFFECT_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do observers modify systems in Phase F-2?
- **Reason**: Prevent hidden coupling.
- **Resolution**: Observers do not modify any systems in Phase F-2. Traits are read-only.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_DISPLAY_ONLY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are observer traits used?
- **Reason**: Ensure traits are inspectable without effects.
- **Resolution**: Observer traits are visible in inspectors and logs but have no mechanical effect.
- **Introduced By**: Phase F-2

### Ledger:OBSERVER_FUTURE_HOOK
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are observer traits reserved for future modifiers?
- **Reason**: Document future intent without enabling coupling now.
- **Resolution**: Observer traits may become additive or multiplicative modifiers later, but no implicit hooks exist now. No observer data may be read by pricing, routes, pressure, time, or governance in Phase F-2.
- **Introduced By**: Phase F-2

---

# PHASE F-3.1 - CARGO AND ARRIVAL EFFECTS

### Ledger:CARGO_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is fleet cargo represented?
- **Reason**: Cargo representation must be explicit before arrival effects.
- **Resolution**: Cargo is an abstract payload: each fleet carries exactly one commodity type with no numeric quantity. No stack sizes, no partial cargo, no capacity scaling in Phase F-3.1. Authoritative interpretation: fleet.cargo = { commodityId }.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_SOURCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When and where is cargo sourced?
- **Reason**: Prevent double-counting market effects.
- **Resolution**: Cargo represents abstracted supply taken from the origin node at dispatch time. Dispatch does not mutate supply pressure. Cargo is conceptual until arrival.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_DESTINATION_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which node is affected by cargo delivery?
- **Reason**: Arrival effects must be localized.
- **Resolution**: Cargo affects the destination node only, never the origin. No back-propagation.
- **Introduced By**: Phase F-3.1

### Ledger:ROUTE_ARRIVAL_EVENT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What event is emitted on arrival?
- **Reason**: Arrival must be deterministic and inspectable.
- **Resolution**: When ETA reaches zero, emit a single ROUTE_ARRIVED event. Arrival fires once, is deterministic, and is logged. No partial arrival states.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_MARKET_EFFECT_TYPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What market effect does arrival cause?
- **Reason**: Arrival impact must be explicit.
- **Resolution**: Arrival applies a supply pressure increase for the carried commodity at the destination node. Demand is unaffected. Effect is immediate and additive. Authoritative effect: supplyPressure += ARRIVAL_SUPPLY_DELTA.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_SUPPLY_DELTA
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the supply pressure delta on arrival?
- **Reason**: Delta must be explicit for determinism.
- **Resolution**: ARRIVAL_SUPPLY_DELTA = 0.25.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_CONSUMPTION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What happens to cargo after arrival?
- **Reason**: Prevent lingering inventory assumptions.
- **Resolution**: Cargo is consumed immediately upon arrival. Fleet cargo is cleared. No lingering inventory.
- **Introduced By**: Phase F-3.1

### Ledger:FLEET_POST_ARRIVAL_STATE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What state does a fleet enter after arrival?
- **Reason**: Fleet lifecycle must be deterministic.
- **Resolution**: After arrival, the fleet becomes idle at the destination node. It remains selectable and may be re-routed. No automatic return or cargo reload.
- **Introduced By**: Phase F-3.1

### Ledger:ARRIVAL_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on arrival?
- **Reason**: Maintain inspectability and replay.
- **Resolution**: Arrival logs must include fleet ID, commodity delivered, destination node, and supply pressure delta applied.
- **Introduced By**: Phase F-3.1

### Ledger:CARGO_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.1?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo quantities, profit calculation, credits, origin-node supply depletion, price impact at dispatch, and multiple commodities per fleet.
- **Introduced By**: Phase F-3.1

---

# PHASE F-3.2 - PROFIT AND CREDITS

### Ledger:CREDIT_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does the simulation track credits?
- **Reason**: Profit needs a persistent sink.
- **Resolution**: Track a single global credit balance as a scalar number. Credits may increase or decrease. No debt mechanics yet; balance may go negative. Authoritative field: state.credits.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are credits global or node-local?
- **Reason**: Credit scope affects accounting and UI.
- **Resolution**: Credits are player-global, not node-local.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_EVENT_TRIGGER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is profit/loss computed?
- **Reason**: Profit timing must be deterministic.
- **Resolution**: Profit or loss is computed only when a fleet arrives (ROUTE_ARRIVED). No profit at dispatch, over time, or on price change alone.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_REFERENCE_PRICES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What prices define profit?
- **Reason**: Price reference must be explicit.
- **Resolution**: Profit uses the price at origin sampled at dispatch time and the price at destination read at arrival time. Prices are sampled, not averaged. Authoritative interpretation: profitBasis = arrivalPrice - dispatchPrice.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_PER_ROUTE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How often is profit evaluated per route?
- **Reason**: Prevent cumulative ambiguity.
- **Resolution**: Each route arrival yields exactly one profit evaluation. Not per tick, per unit, or cumulative.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_SCALING_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is profit scaled?
- **Reason**: Convert price delta into visible stakes.
- **Resolution**: Profit is scaled by a fixed constant ROUTE_VALUE = 100. Authoritative interpretation: creditDelta = profitBasis * ROUTE_VALUE.
- **Introduced By**: Phase F-3.2

### Ledger:LOSS_ALLOWED
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are losses permitted?
- **Reason**: Avoid hidden safeguards.
- **Resolution**: Negative profit is allowed and applied directly to credits. Credits may go below zero. No bankruptcy state or safeguards.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_UPDATE_TIMING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is credit balance updated?
- **Reason**: Order affects determinism.
- **Resolution**: Credit balance updates immediately upon arrival, after market pressure is applied and prices are recomputed. Fixed order: arrival event -> supply pressure applied -> prices recomputed (if ticked) -> profit calculated -> credits updated -> log emitted.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on profit/loss?
- **Reason**: Ensure inspectability and replay.
- **Resolution**: Log fleet ID, commodity, origin node, destination node, dispatch price, arrival price, credit delta, and new credit balance.
- **Introduced By**: Phase F-3.2

### Ledger:CREDIT_UI_VISIBILITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: Where is credit balance shown?
- **Reason**: Credits must be visible at all times.
- **Resolution**: Show current credit balance numerically at all times in the UI (top bar or equivalent). No animation required.
- **Introduced By**: Phase F-3.2

### Ledger:PROFIT_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.2?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo quantities, operating costs, maintenance/upkeep, taxes/fees, interest/inflation, and AI credit usage.
- **Introduced By**: Phase F-3.2

---

# PHASE F-3.3 - CARGO QUANTITIES

### Ledger:CARGO_QUANTITY_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does cargo include quantity?
- **Reason**: Quantity is required for scaling.
- **Resolution**: Cargo includes a numeric quantity in abstract units. Authoritative interpretation: fleet.cargo = { commodityId: string, quantity: number }. Quantity is a positive integer; zero means no cargo; no fractional units.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_QUANTITY_SOURCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When is cargo quantity determined?
- **Reason**: Prevent mid-route ambiguity.
- **Resolution**: Quantity is set at dispatch and remains fixed until arrival. No loss, spoilage, decay, or time/distance modification in Phase F-3.3.
- **Introduced By**: Phase F-3.3

### Ledger:VESSEL_CAPACITY_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do vessels have cargo capacities?
- **Reason**: Capacity is needed for meaningful quantities.
- **Resolution**: Each vessel class defines a maximum cargo capacity. Authoritative interpretation: vessel.capacity: number.
- **Introduced By**: Phase F-3.3

### Ledger:VESSEL_CAPACITY_CONSTANTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What are the vessel capacity constants?
- **Reason**: Prevent hidden tuning.
- **Resolution**: CONTAINMENT_FRIGATE = 50, STABILIZER_BARGE = 120, PROBE_CARRIER = 20, CONSENSUS_FLAGSHIP = 80.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_CAPACITY_CONSTRAINT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is capacity enforced at dispatch?
- **Reason**: Prevent overflow or partial loads.
- **Resolution**: Dispatch is blocked if quantity exceeds vessel capacity. No overflow or partial loading. UI must prevent invalid dispatch.
- **Introduced By**: Phase F-3.3

### Ledger:ARRIVAL_PRESSURE_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does arrival pressure scale with quantity?
- **Reason**: Pressure must scale deterministically.
- **Resolution**: Arrival supply pressure scales linearly with quantity. Authoritative rule: arrivalSupplyDelta = quantity * SUPPLY_PRESSURE_PER_UNIT.
- **Introduced By**: Phase F-3.3

### Ledger:SUPPLY_PRESSURE_PER_UNIT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the per-unit pressure constant?
- **Reason**: Scaling must be explicit.
- **Resolution**: SUPPLY_PRESSURE_PER_UNIT = 0.01.
- **Introduced By**: Phase F-3.3

### Ledger:PROFIT_QUANTITY_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does quantity scale profit?
- **Reason**: Profit must scale with cargo.
- **Resolution**: creditDelta = (arrivalPrice - dispatchPrice) * quantity * ROUTE_VALUE. Linear scaling only.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_UI_VISIBILITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: Where is cargo quantity displayed?
- **Reason**: Keep cargo inspectable.
- **Resolution**: Cargo quantity is visible in fleet inspector and fleet list row in compact form. Show commodity and quantity numerically.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged on arrival with quantity?
- **Reason**: Ensure transparency.
- **Resolution**: Arrival logs include cargo commodity, cargo quantity, supply pressure delta applied, and profit contribution from quantity.
- **Introduced By**: Phase F-3.3

### Ledger:CARGO_QUANTITY_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is explicitly excluded in Phase F-3.3?
- **Reason**: Prevent scope creep.
- **Resolution**: Excludes cargo decay/spoilage, partial deliveries, capacity upgrades, multi-commodity cargo, loading/unloading time, and route risk or loss.
- **Introduced By**: Phase F-3.3

---

# PHASE F-4.1 - ROUTE RISK (ENTROPY)

### Ledger:ROUTE_RISK_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do trade routes have risk?
- **Resolution**: Yes. Trade routes accumulate deterministic entropy during transit, which degrades arrival outcomes unless mitigated.
- **Reason**: Entropy provides a non-random, inspectable model of uncertainty consistent with quantum fiction and systemic tradeoffs.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_MODEL_TYPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is risk represented?
- **Resolution**: Risk is represented as a scalar entropy value normalized to the range [0.0, 1.0], accumulated deterministically per route during transit.
- **Reason**: A scalar entropy meter preserves inspectability, supports deterministic accumulation and mitigation, and cleanly conditions future outcome logic without introducing randomness.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_DETERMINISM_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How is risk resolved without randomness?
- **Resolution**: Entropy is resolved deterministically by applying continuous, monotonic modifiers to arrival outcomes as pure functions of the entropy value. No random selection, binary branching, or hidden thresholds are permitted.
- **Reason**: This preserves full determinism, inspectability, and player comprehension while allowing entropy to meaningfully degrade outcomes.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_INPUT_FACTORS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which factors influence route entropy accumulation?
- **Resolution**: Route entropy accumulation is influenced by route duration (ETA), commodity volatility, cargo quantity, vessel dampening, origin node stability, and assigned observer modifiers. No other factors apply in Phase F-4.1.
- **Reason**: These inputs are pre-existing, inspectable, and collectively express time exposure, state instability, scale, mitigation capacity, environmental conditions, and human oversight without introducing redundancy or randomness.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_INPUT_NORMALIZATION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are entropy input factors normalized or class-based?
- **Resolution**: All entropy input factors are normalized to explicit scalar ranges, typically [0.0, 1.0], before combination. Class labels may exist for UI purposes but are not used for computation.
- **Reason**: Normalized scalar inputs preserve determinism, prevent hidden thresholds, enable transparent composition, and ensure entropy contributions are inspectable and tunable.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_OUTCOME_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What outcomes may occur on route resolution due to entropy?
- **Resolution**: Entropy may deterministically modify arrival outcomes by increasing effective ETA, reducing realized profit efficiency, and dampening applied supply-pressure effects. Clean arrival remains the baseline at zero entropy. No binary failure, cargo loss, or permanent effects are permitted in Phase F-4.1.
- **Reason**: These outcomes express risk as predictable degradation of quality rather than success/failure, preserving determinism, player trust, and recoverability.
- **Introduced By**: Phase F-4.1

### Ledger:RISK_OUTCOME_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What outcomes are explicitly forbidden in Phase F-4.x?
- **Resolution**: Phase F-4.x explicitly forbids cargo loss, fleet destruction, route failure or collapse, random or stochastic resolution, permanent world-state damage, cascading systemic effects, and observer-based immunity or override of entropy effects.
- **Reason**: These exclusions preserve determinism, prevent irreversible failure states, protect player trust, and ensure entropy functions solely as predictable degradation rather than punitive loss.
- **Introduced By**: Phase F-4.1

---

# PHASE F-4.2 - ENTROPY ACCUMULATION

### Ledger:ENTROPY_TIME_UNIT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the base time unit for entropy accumulation?
- **Resolution**: Entropy accumulates as a function of route progress, measured per fraction of ETA completed, not per simulation tick or wall-clock time.
- **Reason**: This models entropy as exposure during traversal rather than passage of time, aligns with relativistic framing, prevents coupling to time controls, and preserves determinism and exploit safety.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_BASE_RATE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Is there a non-zero base entropy gain even under ideal conditions?
- **Resolution**: No. Entropy accumulation is not unavoidable; sufficiently mitigated routes may accumulate arbitrarily low entropy. Base entropy gain is zero in the absence of contributing factors.
- **Reason**: This aligns with the fiction that entropy arises from unprotected exposure during transit rather than existence itself, and allows high-skill play, advanced vessels, observers, or technologies to approach near-zero entropy without violating determinism.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_ACCUMULATION_MODE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does entropy accumulate linearly or non-linearly over route progress?
- **Resolution**: Entropy accumulates in a saturating manner, with accumulation rate decreasing as entropy approaches its upper bound.
- **Reason**: Saturating accumulation prevents runaway degradation, preserves recoverability, aligns with physical entropy intuition, and rewards mitigation without introducing thresholds or randomness.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_INPUT_WEIGHTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are normalized entropy input factors combined?
- **Resolution**: Normalized entropy input factors are combined using a weighted sum to produce a raw entropy pressure value. Mitigating factors are applied afterward as explicit modifiers, not as negative inputs.
- **Reason**: A weighted sum preserves independent contribution of each risk factor, avoids hidden amplification or cancellation, supports transparent tuning, and maintains clear causal separation between risk sources and mitigation.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_WEIGHT_CONSTANTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What are the numeric weights for each entropy input factor?
- **Resolution**:
  - Route duration (ETA fraction): 0.30
  - Commodity volatility: 0.30
  - Cargo quantity (normalized): 0.20
  - Origin instability (1 − stability): 0.20
- **Reason**: This weighting balances distance, inherent state instability, scale effects, and environmental conditions without allowing any single factor to dominate entropy accumulation.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_MITIGATION_ORDER
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When are mitigation effects applied?
- **Resolution**: Mitigation effects are applied before entropy accumulation by reducing effective entropy pressure; mitigation does not retroactively reduce accumulated entropy.
- **Reason**: Applying mitigation preventatively aligns with physical intuition, preserves causal clarity, ensures entropy remains monotonic during transit, and keeps mitigation effects legible and predictable.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_CAP_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How is the entropy upper bound enforced?
- **Resolution**: Entropy approaches its upper bound asymptotically and never reaches a hard cap of 1.0.
- **Reason**: An asymptotic cap avoids implicit failure thresholds, preserves the effectiveness of mitigation at all entropy levels, and aligns with saturating accumulation and physical intuition.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_FLOOR_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: Can entropy ever decrease during transit?
- **Resolution**: No. Entropy is monotonic during active route transit and may only increase; mitigation affects future accumulation only and cannot reduce already accumulated entropy.
- **Reason**: This preserves causal consistency, simplifies reasoning and logging, reinforces preventative planning, and aligns entropy with accumulated exposure rather than a reversible condition.
- **Introduced By**: Phase F-4.2

### Ledger:ENTROPY_LOGGING_GRANULARITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI / Systems
- **Statement**: At what granularity is entropy exposed and logged?
- **Resolution**: Entropy is logged at semantic boundaries only. It is visible live in the fleet inspector during transit, and summarized once at route arrival in the event log. No per-tick entropy logs are produced.
- **Reason**: This preserves transparency and determinism while avoiding log noise, supports planning and inspection, and aligns entropy with player decisions rather than mechanical churn.
- **Introduced By**: Phase F-4.2

---

# PHASE F-4.3 - ENTROPY CONSEQUENCES

### Ledger:ENTROPY_HAS_CONSEQUENCES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Does accumulated entropy have gameplay consequences beyond being informational?
- **Resolution**: Yes. Accumulated entropy produces deterministic, explicitly surfaced gameplay consequences that affect system efficiency and outcomes without introducing randomness, irreversible failure, or hidden penalties.
- **Reason**: Without consequences, entropy would be a non-operative metric. Constrained, deterministic consequences preserve planning depth, justify mitigation investment, and align with the game’s systemic strategy pillars.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_AFFECTED_SYSTEMS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Which systems are eligible to be affected by entropy?
- **Resolution**: Entropy may affect only systems causally downstream of route transit: (1) Cargo carried by the fleet, (2) Fleet/route efficiency or classification, and (3) Observers via soft, explicit modifier degradation. Entropy does not directly affect markets, governance, node stability, or other macro systems.
- **Reason**: This preserves causal clarity, prevents systemic bleed-through, avoids double-counting market effects, and keeps entropy effects local, deterministic, and inspectable.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_EFFECT_TIMING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When are entropy consequences evaluated?
- **Resolution**: Entropy consequences are evaluated only once, at route arrival. Entropy may accumulate during transit, but no gameplay consequences are applied mid-route.
- **Reason**: Arrival-only evaluation preserves strategic predictability, prevents surprise penalties, aligns entropy with planned exposure, and supports clear inspection and logging.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_THRESHOLD_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are entropy consequences triggered continuously or via thresholds?
- **Resolution**: Entropy consequences are applied via continuous, gradient-based scaling. There are no hard thresholds, discrete bands, or binary trigger points.
- **Reason**: Continuous scaling preserves predictability, avoids cliff effects, aligns with asymptotic entropy accumulation, and supports proportional planning and mitigation.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_EFFECT_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does consequence magnitude scale with entropy?
- **Resolution**: Entropy consequences scale continuously with diminishing marginal impact as entropy increases (sublinear scaling). Early entropy has proportionally greater effect than later entropy.
- **Reason**: Sublinear scaling preserves forgiveness, avoids punitive escalation, aligns with asymptotic entropy accumulation, and keeps entropy a strategic pressure rather than a fail state.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_CONSEQUENCE_REVERSIBILITY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: Can entropy consequences be reversed after arrival?
- **Resolution**: Yes. Entropy consequences are reversible through explicit, player-driven systems after arrival. Entropy itself is not reduced; only its downstream effects may be mitigated, repaired, or absorbed.
- **Reason**: This preserves player agency, avoids irreversible failure, encourages experimentation, and maintains entropy as a meaningful but manageable cost rather than a permanent punishment.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_STACKING_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do entropy consequences interact with other modifiers?
- **Resolution**: Entropy consequences stack additively with other modifiers and are bounded. Entropy effects never multiply, override, or suppress other system modifiers.
- **Reason**: Additive bounded stacking preserves predictability, avoids runaway interactions, supports UI explainability, and ensures entropy remains one pressure among many rather than a dominant force.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_CONSEQUENCE_VISIBILITY
- **Status**: OPEN
- **Type**: Decision
- **Scope**: UI
- **Statement**: How explicitly are entropy consequences communicated to the player?
- **Reason**: Invisible penalties violate the “information is power” pillar.
- **Introduced By**: Phase F-4.3

### Ledger:ENTROPY_CONSEQUENCE_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What effects are explicitly forbidden in Phase F-4.3?
- **Resolution**: Entropy consequences explicitly exclude: cargo loss or destruction; fleet, observer, or route destruction; random or probabilistic events; irreversible or permanent state changes; direct manipulation of market prices, node stability, or governance outcomes; mid-route penalties; and any invisible or unexplained effects.
- **Reason**: These exclusions prevent entropy from becoming punitive, opaque, or systemic beyond its intended scope, preserving player agency, predictability, and the integrity of the trade-focused simulation.
- **Introduced By**: Phase F-4.3

---

# PHASE F-4.4 - REVERSAL AND MITIGATION SYSTEMS

### Ledger:REVERSAL_ACTION_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What explicit post-arrival actions exist to reverse entropy consequences?
- **Resolution**: Three explicit reversal actions exist: (1) Cargo Stabilization, which reverses cargo efficiency penalties; (2) Fleet Recalibration, which reverses fleet or route efficiency penalties; and (3) Observer Reconditioning, which reverses observer modifier penalties. Each action targets only its respective system.
- **Reason**: A minimal, orthogonal action set preserves clarity, avoids overpowered global fixes, keeps entropy manageable rather than punitive, and aligns each consequence with a single, explicit player action.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_LOCATION_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World / Systems
- **Statement**: Where can reversal actions be performed?
- **Resolution**: Reversal actions may be performed only at nodes that possess the required stabilization structures for the targeted domain. Reversal is not available globally, mid-route, or at nodes lacking appropriate infrastructure.
- **Reason**: Location-gated reversal preserves logistical planning, gives strategic value to node infrastructure, prevents trivial cleanup, and reinforces the trade- and geography-driven nature of the simulation.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_COST_RESOURCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What resource pays for reversal?
- **Resolution**: Reversal actions are paid for exclusively with credits. No additional abstract resources or commodity costs are required in Phase F-4.4.
- **Reason**: Credits integrate naturally with the trade economy, preserve determinism and clarity, avoid unnecessary system proliferation, and allow reversal costs to be directly compared against trade profit.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_COST_SCALING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How does reversal cost scale?
- **Resolution**: Reversal cost scales proportionally with the absolute magnitude of the entropy consequence delta being reversed. Larger consequence penalties cost more credits to reverse than smaller ones.
- **Reason**: Scaling costs by consequence magnitude preserves transparency, aligns cost with impact, prevents degenerate spam behavior, and allows players to make clear cost–benefit decisions when managing entropy.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_TIME_REQUIREMENT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do reversal actions consume simulation steps/ticks?
- **Resolution**: Reversal actions are instantaneous and do not consume simulation steps or advance time. Their cost is purely economic and location-gated.
- **Reason**: Instant reversal avoids hidden temporal penalties, preserves clarity, keeps entropy management focused on economic decision-making, and prevents unnecessary throughput friction.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_EFFECT_TARGETING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are reversal actions targeted (cargo vs fleet vs observer), or a single “stabilize all” action?
- **Resolution**: Reversal actions are single-target and domain-specific. Each action targets exactly one entity (cargo, fleet, or observer) and affects only its associated entropy consequence domain. No global or multi-target reversal actions exist.
- **Reason**: Single-target targeting preserves player agency, maintains clear cause-and-effect, avoids trivializing entropy management, and supports inspectable cost/benefit decisions.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_EFFECT_AMOUNT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How much entropy consequence is reversed by a single reversal action?
- **Resolution**: A reversal action removes a fixed percentage of accumulated entropy consequences from the targeted entity.
- **Reason**: Partial reversal preserves entropy as a meaningful long-term pressure while allowing strategic recovery without trivializing risk.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_LIMITS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: Are there limits on how often reversal actions may be applied?
- **Resolution**: Reversal actions may be applied repeatedly, but each application has diminishing effectiveness due to remaining entropy asymptotically approaching zero.
- **Reason**: Prevents infinite cleansing while avoiding hard caps or cooldown mechanics.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_UI_SURFACE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: Where is reversal performed in the UI?
- **Resolution**: Reversal actions are exposed as explicit buttons in the inspector panel when a valid target is selected at a valid location.
- **Reason**: Inspector-based actions maintain contextual clarity and avoid global UI clutter.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_EVENT_IDS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Tech / UI
- **Statement**: What are the canonical event IDs for reversal actions?
- **Resolution**: Each reversal action dispatches a single explicit event ID of the form REVERSAL_APPLIED_<TARGET_TYPE>.
- **Reason**: Explicit event IDs preserve deterministic logging, replay, and inspection.
- **Introduced By**: Phase F-4.4

### Ledger:REVERSAL_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What information must be logged when a reversal action is executed?
- **Resolution**: Logs must include target identifier, entropy before, entropy removed, entropy remaining, credit cost paid, and location of execution.
- **Reason**: Full transparency is required to validate entropy mitigation behavior and support deterministic debugging.
- **Introduced By**: Phase F-4.4

---

# PHASE W-1 - WORLD LAYER: ENTROPY STRUCTURES

### Ledger:ENTROPY_STRUCTURE_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Statement**: Do dedicated world structures exist to manage entropy?
- **Resolution**: Yes. Entropy management requires explicit node-level structures.
- **Reason**: Infrastructure grounding is required to prevent entropy control from becoming abstract or global.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Statement**: What entropy-related structures exist?
- **Resolution**:
  1. Entropy Sink
  2. Stabilization Array
  3. Reversal Chamber
- **Reason**: Separating mitigation, stabilization, and reversal preserves progression and avoids a single dominant structure.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_ROLES
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the functional role of each entropy structure?
- **Resolution**:
  - Entropy Sink: Passively reduces entropy accumulation rate for fleets interacting with the node.
  - Stabilization Array: Reduces arrival-time entropy consequences.
  - Reversal Chamber: Enables entropy reversal actions.
- **Reason**: Distinct roles prevent stacking abuse and clarify player intent.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_LOCATION
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: World
- **Statement**: Where may entropy structures be built?
- **Resolution**: Entropy structures may only be built at Reality Nodes.
- **Reason**: Prevents mobile or route-based entropy nullification.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_STACKING
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: Can multiple entropy structures stack at a single node?
- **Resolution**: Each entropy structure type may exist at most once per node.
- **Reason**: Prevents brute-force entropy nullification and preserves strategic geography.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_PREREQUISITES
- **Status**: RESOLVED
- **Type**: Dependency
- **Scope**: Systems
- **Statement**: What is required to construct entropy structures?
- **Resolution**: Construction requires credits, specific quantum commodities, and node stability above a minimum threshold.
- **Reason**: Entropy control should require economic strength and political coherence.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_VISIBILITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: UI
- **Statement**: How does the player see entropy structures and their effects?
- **Resolution**: Structures are visible in node inspectors with clear effect summaries and numeric modifiers.
- **Reason**: Entropy is a numeric system and must remain inspectable.
- **Introduced By**: Phase W-1

### Ledger:ENTROPY_STRUCTURE_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: World
- **Statement**: What entropy structure behaviors are explicitly excluded?
- **Resolution**:
  - No global entropy suppression
  - No mobile entropy structures
  - No automatic reversals
  - No free mitigation
- **Reason**: Prevents erosion of risk and preserves systemic tension.
- **Introduced By**: Phase W-1

---

# PHASE W-2 - STRUCTURE COSTS AND COMMODITY REQUIREMENTS

### Ledger:ENTROPY_STRUCTURE_COST_MODEL
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are entropy structure construction costs defined?
- **Resolution**: Each entropy structure has a fixed, explicit construction cost composed of credits and specific quantum commodities.
- **Reason**: Fixed costs preserve determinism, enable planning, and avoid hidden scaling effects.
- **Introduced By**: Phase W-2

### Ledger:ENTROPY_SINK_COST
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the construction cost of an Entropy Sink?
- **Resolution**:
  - Credits: 500
  - Commodities:
    - QG12_ENTROPY_SINK x 5
    - QG05_PROBABILITY_LATTICE x 3
- **Reason**: Early-game accessible mitigation that requires direct investment in entropy-handling materials.
- **Introduced By**: Phase W-2

### Ledger:STABILIZATION_ARRAY_COST
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the construction cost of a Stabilization Array?
- **Resolution**:
  - Credits: 900
  - Commodities:
    - QG03_DECOHERENCE_FIELD x 4
    - QG13_REALITY_CEMENT x 2
    - QG15_SIGNAL_NOISE_CRYSTAL x 3
- **Reason**: Mid-tier structure requiring both physical and informational stabilization resources.
- **Introduced By**: Phase W-2

### Ledger:REVERSAL_CHAMBER_COST
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the construction cost of a Reversal Chamber?
- **Resolution**:
  - Credits: 1500
  - Commodities:
    - QG18_STATE_VECTOR_CORE x 2
    - QG06_OBSERVER_ANCHOR x 4
    - QG08_EVENT_HORIZON_FIBER x 2
- **Reason**: High-tier infrastructure reflecting deep control over state collapse and observation.
- **Introduced By**: Phase W-2

### Ledger:ENTROPY_STRUCTURE_STABILITY_REQUIREMENT
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: World
- **Statement**: What node stability is required to construct entropy structures?
- **Resolution**:
  - Entropy Sink: Minimum Stability = Medium
  - Stabilization Array: Minimum Stability = High
  - Reversal Chamber: Minimum Stability = High
- **Reason**: Advanced entropy control requires coherent political and physical conditions.
- **Introduced By**: Phase W-2

### Ledger:ENTROPY_STRUCTURE_BUILD_TIME
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do entropy structures require build time?
- **Resolution**: No. Construction is instantaneous once costs and requirements are met.
- **Reason**: Avoids introducing construction queues or temporal coupling outside the trade loop.
- **Introduced By**: Phase W-2

### Ledger:ENTROPY_STRUCTURE_CONSUMPTION_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are construction resources consumed?
- **Resolution**: All required credits and commodities are consumed immediately and atomically at construction time.
- **Reason**: Prevents partial builds and maintains deterministic state transitions.
- **Introduced By**: Phase W-2

### Ledger:ENTROPY_STRUCTURE_COST_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What cost behaviors are explicitly excluded?
- **Resolution**:
  - No cost scaling with usage
  - No upkeep costs
  - No refunds on destruction
  - No shared or global cost pools
- **Reason**: Keeps entropy infrastructure as a deliberate, sunk strategic investment.
- **Introduced By**: Phase W-2

---

# PHASE F-5.0 - AI SCOPE AND AUTHORITY

### Ledger:AI_TRADER_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do non-player AI trading entities exist?
- **Resolution**: Yes. Autonomous AI traders operate within the same economic rules as the player.
- **Reason**: A living market requires competing participants to generate price movement and pressure.
- **Introduced By**: Phase F-5

### Ledger:AI_TRADER_IDENTITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: World
- **Statement**: What form do AI traders take?
- **Resolution**: AI traders are abstract economic actors, not characters, factions, or corporations.
- **Reason**: Avoids narrative overhead and keeps focus on systems, not personalities.
- **Introduced By**: Phase F-5

### Ledger:AI_RULE_PARITY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: Do AI traders follow the same rules as the player?
- **Resolution**: Yes. AI traders are subject to the same pricing, entropy, capacity, and cost rules as the player.
- **Reason**: Prevents hidden advantages and preserves systemic fairness.
- **Introduced By**: Phase F-5

### Ledger:AI_ACTION_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What actions may AI traders perform?
- **Resolution**:
  - Buy and sell commodities
  - Dispatch fleets
  - Choose routes
  - Select cargo quantities
  - Pay entropy reversal costs
- **Reason**: AI must participate meaningfully in the core trade loop.
- **Introduced By**: Phase F-5

### Ledger:AI_ENTROPY_AWARENESS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Are AI traders aware of entropy and its consequences?
- **Resolution**: Yes. AI traders perceive entropy as numeric signals and factor it into decisions.
- **Reason**: Entropy is a primary systemic pressure and must affect all participants.
- **Introduced By**: Phase F-5

### Ledger:AI_ENTROPY_CAPABILITY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: May AI traders mitigate or reverse entropy?
- **Resolution**: Yes. AI traders may construct entropy structures and perform entropy reversal actions.
- **Reason**: Prevents entropy from becoming a player-only burden.
- **Introduced By**: Phase F-5

### Ledger:AI_INFORMATION_ACCESS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What information may AI traders access?
- **Resolution**: AI traders access only public market data, node attributes, and their own state.
- **Reason**: Prevents omniscient behavior and preserves discoverability.
- **Introduced By**: Phase F-5

### Ledger:AI_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What behaviors are explicitly forbidden for AI traders?
- **Resolution**:
  - No cheating or hidden modifiers
  - No foreknowledge of future prices
  - No instant global actions
  - No narrative or diplomatic actions
  - No reaction outside tick boundaries
- **Reason**: Keeps AI deterministic, inspectable, and system-bound.
- **Introduced By**: Phase F-5

---

# PHASE F-5.1 - AI DECISION INPUTS

### Ledger:AI_DECISION_INPUT_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What categories of information may AI traders use for decisions?
- **Resolution**: AI traders may use market, route, node, fleet, observer, entropy, and credit state information.
- **Reason**: AI must operate using the same systemic signals available to the player.
- **Introduced By**: Phase F-5.1

### Ledger:AI_MARKET_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What market-related data may AI traders consider?
- **Resolution**:
  - Current commodity prices
  - Price history (limited to past values)
  - Volatility class
  - Supply and demand pressure values
- **Reason**: Market participation requires awareness of present and past price conditions.
- **Introduced By**: Phase F-5.1

### Ledger:AI_ROUTE_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What route-related data may AI traders consider?
- **Resolution**:
  - Route distance
  - Estimated travel time (ETA)
  - Route entropy rate
  - Destination node attributes
- **Reason**: Route selection must balance time, entropy accumulation, and destination quality.
- **Introduced By**: Phase F-5.1

### Ledger:AI_NODE_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What node-level data may AI traders consider?
- **Resolution**:
  - Node stability
  - Node class
  - Installed structures (including entropy structures)
  - Governance modifiers
- **Reason**: Nodes impose economic and entropy effects that materially affect trade outcomes.
- **Introduced By**: Phase F-5.1

### Ledger:AI_FLEET_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What fleet-specific data may AI traders consider?
- **Resolution**:
  - Vessel class and capacity
  - Current cargo (commodity and quantity)
  - Current entropy and entropy rate
  - Fleet availability (idle vs in transit)
- **Reason**: Fleet capabilities constrain feasible actions.
- **Introduced By**: Phase F-5.1

### Ledger:AI_OBSERVER_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What observer-related data may AI traders consider?
- **Resolution**:
  - Observer traits
  - Observer entropy
  - Active assignment status
- **Reason**: Observers influence entropy accumulation and arrival outcomes.
- **Introduced By**: Phase F-5.1

### Ledger:AI_ENTROPY_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How may AI traders perceive entropy?
- **Resolution**: AI traders perceive entropy as numeric values and consequence deltas, identical to player-visible values.
- **Reason**: Prevents hidden entropy handling advantages.
- **Introduced By**: Phase F-5.1

### Ledger:AI_CREDIT_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What financial information may AI traders consider?
- **Resolution**:
  - Current credit balance
  - Recent profit and loss history
  - Known costs of actions and structures
- **Reason**: Economic planning requires awareness of available capital.
- **Introduced By**: Phase F-5.1

### Ledger:AI_TEMPORAL_INPUTS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How do AI traders perceive time?
- **Resolution**: AI traders perceive time only through discrete simulation ticks and historical records; no foresight is permitted.
- **Reason**: Preserves determinism and fairness.
- **Introduced By**: Phase F-5.1

### Ledger:AI_INPUT_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What information is explicitly hidden from AI traders?
- **Resolution**:
  - Future prices or entropy
  - Player intent or queued actions
  - Hidden formulas or tuning constants
  - Global state summaries unavailable to the player
- **Reason**: Prevents omniscient or meta-level behavior.
- **Introduced By**: Phase F-5.1

---

# PHASE F-5.2 - AI DECISION MODEL TYPE

### Ledger:AI_DECISION_MODEL_TYPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What overall decision-making model do AI traders use?
- **Resolution**: AI traders use a deterministic, score-based utility evaluation model.
- **Reason**: A score-based model is inspectable, tunable, deterministic, and compatible with ledger-driven systems without introducing stochastic behavior.
- **Introduced By**: Phase F-5.2

### Ledger:AI_DECISION_EVALUATION_FREQUENCY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How often do AI traders evaluate decisions?
- **Resolution**: AI traders evaluate decisions only on discrete simulation ticks and only when idle or at decision points.
- **Reason**: Prevents continuous reevaluation and preserves performance and determinism.
- **Introduced By**: Phase F-5.2

### Ledger:AI_DECISION_ACTION_SELECTION
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do AI traders select an action from evaluated options?
- **Resolution**: AI traders select the highest-scoring valid action; ties are broken deterministically by stable ordering.
- **Reason**: Eliminates randomness while ensuring predictable behavior.
- **Introduced By**: Phase F-5.2

### Ledger:AI_DECISION_ACTION_SET_SCOPE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What actions are considered during AI decision evaluation?
- **Resolution**: Only actions that are immediately valid, affordable, and permitted by current state are evaluated.
- **Reason**: Prevents speculative planning and invalid action selection.
- **Introduced By**: Phase F-5.2

### Ledger:AI_DECISION_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What decision-making approaches are explicitly excluded?
- **Resolution**:
  - No randomness
  - No machine learning
  - No probabilistic policies
  - No multi-turn planning
  - No hidden state
- **Reason**: Keeps AI behavior transparent, replayable, and consistent with deterministic simulation goals.
- **Introduced By**: Phase F-5.2

---

# PHASE F-5.3 - AI UTILITY FUNCTION INPUTS AND WEIGHTS

### Ledger:AI_UTILITY_INPUT_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What inputs contribute to an AI trader’s utility score for an action?
- **Resolution**:
  - Expected profit (credits)
  - Travel time (ETA)
  - Entropy accumulation
  - Entropy consequences at arrival
  - Credit cost of action
  - Fleet utilization (idle vs committed)
- **Reason**: These inputs fully describe the economic, temporal, and entropy tradeoffs of an action.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_PROFIT_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is expected profit weighted in the AI utility function?
- **Resolution**: Expected profit contributes positively with a linear weight of +1.0.
- **Reason**: Profit maximization is the primary driver of trade behavior.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_TIME_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is travel time weighted in the AI utility function?
- **Resolution**: Travel time contributes negatively with a linear weight of -0.5.
- **Reason**: Longer routes delay capital turnover and increase exposure to entropy.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_ENTROPY_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is entropy accumulation weighted in the AI utility function?
- **Resolution**: Entropy accumulation contributes negatively with a linear weight of -1.0.
- **Reason**: Entropy directly reduces efficiency and increases future costs.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_ENTROPY_CONSEQUENCE_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are entropy consequences weighted in the AI utility function?
- **Resolution**: Expected entropy consequences contribute negatively with a linear weight of -1.5.
- **Reason**: Consequences represent realized damage rather than risk.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_COST_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How are credit costs weighted in the AI utility function?
- **Resolution**: Credit costs contribute negatively with a linear weight of -1.0.
- **Reason**: Costs directly reduce available capital.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_UTILIZATION_WEIGHT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is fleet utilization weighted in the AI utility function?
- **Resolution**: Using idle fleets contributes positively with a weight of +0.5; committing already-busy fleets is disallowed.
- **Reason**: Encourages efficient use of idle capacity without overcommitment.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_NORMALIZATION_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are heterogeneous utility inputs normalized?
- **Resolution**: All inputs are normalized to comparable scalar ranges before weighting; normalization rules are explicit and deterministic.
- **Reason**: Prevents any single input from dominating due to scale differences.
- **Introduced By**: Phase F-5.3

### Ledger:AI_UTILITY_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What factors are explicitly excluded from AI utility evaluation?
- **Resolution**:
  - Player-specific behavior
  - Narrative state
  - Random variation
  - Future predictions
- **Reason**: Maintains fairness, determinism, and system transparency.
- **Introduced By**: Phase F-5.3

---

# PHASE F-5.4 - AI ACTION GENERATION AND EVALUATION

### Ledger:AI_ACTION_GENERATION_SCOPE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What actions are generated as candidates for AI evaluation?
- **Resolution**: AI traders generate candidate actions for all immediately valid trade, routing, mitigation, and construction actions available in the current state.
- **Reason**: Ensures the AI considers the full set of feasible economic actions without speculation.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_GENERATION_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are candidate actions generated?
- **Resolution**: Candidate actions are generated deterministically from current state using explicit enumeration; no sampling or pruning is performed at generation time.
- **Reason**: Deterministic enumeration preserves reproducibility and debuggability.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_VALIDATION_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: When is an AI action considered valid for evaluation?
- **Resolution**: An action is valid only if it is legal, affordable, and executable immediately without advancing time.
- **Reason**: Prevents speculative or deferred actions from entering evaluation.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_EVALUATION_PIPELINE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What is the evaluation order for AI actions?
- **Resolution**: For each candidate action, the AI computes normalized utility inputs, applies fixed weights, sums the result into a single scalar score, and records the score.
- **Reason**: Establishes a transparent and consistent evaluation pipeline.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_SIDE_EFFECT_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: May AI action evaluation mutate game state?
- **Resolution**: No. Evaluation is strictly read-only; state mutation occurs only after the highest-scoring action is selected.
- **Reason**: Prevents evaluation-order artifacts and preserves determinism.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_SELECTION_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is the final AI action selected?
- **Resolution**: The AI selects the single highest-scoring valid action; if all scores are non-positive, the AI takes no action this tick.
- **Reason**: Prevents forced or harmful actions and allows inactivity when conditions are unfavorable.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_EXECUTION_BOUNDARY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: When is the selected AI action executed?
- **Resolution**: The selected action is executed immediately after evaluation within the same simulation tick.
- **Reason**: Avoids queued intent and preserves synchronous, inspectable behavior.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What AI decision information must be logged?
- **Resolution**: Logs must include evaluated action type, target identifiers, computed utility score, and whether the action was executed or skipped.
- **Reason**: Enables debugging, analysis, and replay of AI behavior.
- **Introduced By**: Phase F-5.4

### Ledger:AI_ACTION_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What action behaviors are explicitly excluded?
- **Resolution**:
  - No batching of actions
  - No partial execution
  - No speculative reservations
  - No rollback or re-evaluation mid-tick
- **Reason**: Keeps AI behavior simple, deterministic, and phase-aligned.
- **Introduced By**: Phase F-5.4

---

# PHASE F-5.5 - AI TRADE ACTION DEFINITIONS

### Ledger:AI_TRADE_ACTION_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do AI traders perform explicit trade actions distinct from routing and construction?
- **Resolution**: Yes. AI traders perform explicit buy and sell actions as part of trade execution.
- **Reason**: Trade must be an inspectable, first-class action to mirror player behavior.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_ACTION_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What trade actions may AI traders perform?
- **Resolution**:
  - BUY_COMMODITY
  - SELL_COMMODITY
- **Reason**: Minimal trade action set preserves clarity and avoids redundant abstractions.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_ACTION_TARGETING
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are trade actions targeted?
- **Resolution**: Trade actions target a specific commodity at a specific node.
- **Reason**: Prices, pressure, and availability are node-specific.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_QUANTITY_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is trade quantity determined for AI actions?
- **Resolution**: AI trade quantities are chosen explicitly and must not exceed available credits (buy) or available cargo capacity (sell).
- **Reason**: Enforces economic realism and parity with player constraints.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_PRICE_REFERENCE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What price reference is used for AI trade actions?
- **Resolution**: AI trade actions use the current node price at execution time.
- **Reason**: Prevents price prediction or arbitrage via stale data.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_PRESSURE_EFFECT
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do AI trade actions affect market pressure?
- **Resolution**: Yes. AI buy and sell actions modify supply and demand pressure identically to player actions.
- **Reason**: Preserves a unified market model.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_ACTION_COSTS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What costs are applied to AI trade actions?
- **Resolution**: AI trade actions incur only commodity price costs or proceeds; no additional fees or modifiers apply.
- **Reason**: Avoids hidden economic distortions.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_FAILURE_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are invalid or unaffordable trade actions handled?
- **Resolution**: Invalid or unaffordable trade actions are excluded from candidate generation and never evaluated.
- **Reason**: Prevents no-op execution paths.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What information is logged for AI trade actions?
- **Resolution**: Logs include action type, commodity, quantity, node, execution price, and resulting pressure change.
- **Reason**: Maintains transparency and replayability.
- **Introduced By**: Phase F-5.5

### Ledger:AI_TRADE_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What trade behaviors are explicitly excluded for AI traders?
- **Resolution**:
  - No speculative pre-buying
  - No multi-node arbitrage in a single action
  - No partial fills
  - No hidden inventory buffers
- **Reason**: Keeps trade behavior simple and deterministic.
- **Introduced By**: Phase F-5.5

---

# PHASE F-5.6 - AI ROUTING AND FLEET DISPATCH

### Ledger:AI_ROUTE_ACTION_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do AI traders explicitly dispatch fleets as an action?
- **Resolution**: Yes. AI traders dispatch fleets as explicit, first-class actions.
- **Reason**: Fleet dispatch is central to trade execution and must mirror player agency.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_ACTION_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What routing actions may AI traders perform?
- **Resolution**:
  - DISPATCH_FLEET
  - ASSIGN_ROUTE
- **Reason**: Separating fleet selection from route assignment preserves clarity and composability.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_TARGETING
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How are routes targeted by AI traders?
- **Resolution**: Routes are defined as ordered pairs of origin node and destination node.
- **Reason**: Route structure must remain explicit and inspectable.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_SELECTION_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What inputs may AI traders use to evaluate routes?
- **Resolution**:
  - Distance
  - ETA
  - Entropy accumulation rate
  - Destination market prices
  - Destination node stability
- **Reason**: These inputs capture profitability, delay, and entropy exposure.
- **Introduced By**: Phase F-5.6

### Ledger:AI_FLEET_SELECTION_RULE
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How do AI traders select fleets for dispatch?
- **Resolution**: AI traders may dispatch only idle fleets whose vessel capacity can fully accommodate the intended cargo quantity.
- **Reason**: Prevents illegal or partial fleet usage.
- **Introduced By**: Phase F-5.6

### Ledger:AI_CARGO_ASSIGNMENT_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How is cargo assigned during AI fleet dispatch?
- **Resolution**: Cargo commodity and quantity are explicitly assigned at dispatch and must respect vessel capacity limits.
- **Reason**: Ensures parity with player dispatch mechanics.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_DISPATCH_VALIDATION
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: When is an AI routing action considered valid?
- **Resolution**: A routing action is valid only if origin and destination nodes are connected, the fleet is idle, cargo is assigned, and all costs are affordable.
- **Reason**: Prevents speculative or incomplete dispatch actions.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_EXECUTION_RULE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When are AI fleet dispatch actions executed?
- **Resolution**: AI fleet dispatch actions are executed immediately within the same simulation tick as selection.
- **Reason**: Maintains synchronous, deterministic behavior.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What information is logged for AI routing actions?
- **Resolution**: Logs include fleet identifier, origin node, destination node, cargo commodity, cargo quantity, ETA, and expected entropy accumulation.
- **Reason**: Supports debugging and replay of AI logistics decisions.
- **Introduced By**: Phase F-5.6

### Ledger:AI_ROUTE_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What routing behaviors are explicitly excluded for AI traders?
- **Resolution**:
  - No mid-route rerouting
  - No partial cargo dispatch
  - No multi-stop routes
  - No speculative pre-dispatch reservations
- **Reason**: Keeps routing logic simple and deterministic.
- **Introduced By**: Phase F-5.6

---

# PHASE F-5.7 - AI ENTROPY MITIGATION AND REVERSAL USAGE

### Ledger:AI_ENTROPY_MITIGATION_EXISTENCE
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: Do AI traders actively mitigate entropy during play?
- **Resolution**: Yes. AI traders may take explicit actions to mitigate or reverse entropy.
- **Reason**: Entropy must apply symmetrically to all market participants.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_ACTION_SET
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What entropy-related actions may AI traders perform?
- **Resolution**:
  - Construct entropy-related structures
  - Execute entropy reversal actions
- **Reason**: AI must have access to the same mitigation mechanisms as the player.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_DECISION_INPUTS
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What inputs inform AI entropy mitigation decisions?
- **Resolution**:
  - Current entropy level
  - Expected entropy consequences
  - Cost of mitigation or reversal
  - Available credits
  - Presence of mitigation structures
- **Reason**: These inputs allow cost–benefit analysis without foresight.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_REVERSAL_THRESHOLD
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: When does an AI trader consider entropy reversal?
- **Resolution**: AI traders consider reversal only when expected entropy consequences exceed a fixed threshold.
- **Reason**: Prevents overuse of costly reversal actions.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_REVERSAL_COST_SENSITIVITY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How does cost affect AI entropy reversal decisions?
- **Resolution**: AI traders will not perform entropy reversal if the credit cost exceeds the expected avoided loss.
- **Reason**: Ensures economically rational behavior.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_PRIORITY
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: How do entropy mitigation actions rank relative to trade actions?
- **Resolution**: Entropy mitigation actions are evaluated alongside trade actions within the same utility framework.
- **Reason**: Prevents special-casing and preserves unified decision logic.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_FREQUENCY
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: How often may AI traders perform entropy mitigation actions?
- **Resolution**: AI traders may perform at most one entropy mitigation or reversal action per decision tick.
- **Reason**: Prevents burst mitigation and preserves pacing.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_LOGGING
- **Status**: RESOLVED
- **Type**: Decision
- **Scope**: Systems
- **Statement**: What must be logged for AI entropy mitigation actions?
- **Resolution**: Logs include action type, target, entropy before and after, credit cost, and decision score.
- **Reason**: Maintains transparency and replayability.
- **Introduced By**: Phase F-5.7

### Ledger:AI_ENTROPY_MITIGATION_EXCLUSIONS
- **Status**: RESOLVED
- **Type**: Constraint
- **Scope**: Systems
- **Statement**: What entropy mitigation behaviors are explicitly excluded for AI traders?
- **Resolution**:
  - No preemptive mitigation without entropy
  - No free or discounted reversals
  - No mitigation without required structures
  - No multi-target mitigation
- **Reason**: Prevents AI abuse of entropy systems.
- **Introduced By**: Phase F-5.7


